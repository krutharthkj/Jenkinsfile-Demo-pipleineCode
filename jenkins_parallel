pipeline{
	agent any
	
	tools{
		maven 'mymaven'
	}
	
	stages{
		stage('parallel'){
			parallel{
				stage('test the code'){
					steps{
						git 'https://github.com/krutharthkj/Jenkinsfile-Demo-pipleineCode.git'
						sh 'mvn test'
					}
				}
				
				stage('code review'){
					steps{
						sh 'mvn pmd:pmd'
					}
				}
			}	
		}	
				
				
		stage('compile the code'){
			steps{
				sh 'mvn compile'
			}
		}


        stage('package the code'){
			steps{
				sh 'mvn package'
			}
			
		} 		
			
	
	}
}
